
# version: 1.0 # do not change

settings:
  port: 8888
  # autostart: true # cannon show [file] will start the server automatically

file_conversion_rules:
  -
    # native html5 image formats do not need any conversion
    type: extension
    matches: [apng,avif,gif,jpg,jpeg,jfif,pjpeg,pjp,png,svg,webp]
    tag: img
  -
    # convert image formats to jpg using imagemagick
    # $ convert identify -list format | less
    type: extension
    matches: [bmp,ico,cur,tif,tiff]
    command: convert ${INPUT} ${OUTPUT}.jpg
    tag: img
  -
    # convert pdf 1st page to jpg using imagemagick
    type: extension
    matches: [pdf]
    command: convert -density 150 ${INPUT}[0] -quality 90 ${OUTPUT}.jpg
    tag: img
  -
    type: mime
    matches: [application/text]
    command: more t.txt
    tag: head

